Modern parallel and cluster file systems provide highly scalable I/O bandwidth
by enabling highly parallel access to file data.
Unfortunately metadata access does not benefit from parallel data transfer,
so metadata performance scaling is less common.
To support metadata-intensive workloads,
we offer a middleware design that layers on top of existing cluster
file systems, adds support for load balanced and
high-performance metadata operations without sacrificing data bandwidth.
We proposed and compared several distributed indexing mechanisms
with trade-offs on performance of different file system operations,
along with optimized log-structured metadata on-disk representation.
The integration requires several optimizations including cross-server split
operations with minimum data migration, and decoupling of
data and metadata paths.
We implement and deploy our metadata middleware on a 256-node
cluster and demonstrate its almost linear scalability, and
its out-of-core metadata performance comparable
to Hadoop HDFS's pure in-memory solution on a single server.
